(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b40c19b"],{"04c6":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"el-card login-card text-primary fs-xl is-always-shadow"},[n("div",{staticClass:"el-card__header"},[t._v("歷史警報")]),t._v(" "),n("div",{staticClass:"el-card__body"},[n("button",{on:{click:function(e){return t.queryAlert()}}},[t._v("全部")]),t._v(" "),n("button",{on:{click:function(e){return t.lastday(1)}}},[t._v("過去1天")]),t._v(" "),n("button",{on:{click:function(e){return t.lastday(7)}}},[t._v("過去7天")]),t._v(" "),n("button",{on:{click:function(e){return t.lastday(30)}}},[t._v("過去1個月")]),t._v(" "),n("table",{staticStyle:{color:"black"},attrs:{border:"1"}},[t._m(0),t._v(" "),n("tbody",t._l(t.alerts,(function(e,a){return n("tr",{key:a},[n("th",[t._v(t._s(t.time[a]))]),t._v(" "),n("th",[t._v(t._s(e.alarmListInfo.camera))]),t._v(" "),n("th",[t._v(t._s(e.alarmListInfo.Id))]),t._v(" "),n("th",[t._v(t._s(e.alarmListInfo.name))]),t._v(" "),n("th",[t._v(t._s(e.alarmListInfo.status?"否":"是"))])])})),0)])])])])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("觸發時間")]),t._v(" "),n("th",[t._v("觸發攝影機")]),t._v(" "),n("th",[t._v("id")]),t._v(" "),n("th",[t._v("人物名稱")]),t._v(" "),n("th",[t._v("是否解除警報")])])])}],o=n("a8f8"),s=o["a"]+"/alarm/alarmListquery/?&sortObject=startTime&ordering=1",c={data:function(){return{alerts:[]}},computed:{time:function(){return this.alerts.map((function(t){var e=t.alarmListInfo.startTime,n=new Date(1e3*e);return n}))}},created:function(){this.queryAlert()},methods:{queryAlert:function(){var t=this;fetch(s,{method:"get",headers:{Token:localStorage.getItem("token")}}).then((function(t){return t.json().then((function(t){return{data:t}}))})).then((function(e){t.alerts=Object(e.data),console.log(e.data)}))},toTimestamp:function(t){var e=Date.parse(t);return e/1e3},lastday:function(t){var e=this,n=new Date,a=new Date(n.getTime()-24*t*60*60*1e3),r=this.toTimestamp(a),o=this.toTimestamp(n),c=s+"&from="+r+"&to="+o;fetch(c,{method:"get",headers:{Token:localStorage.getItem("token")}}).then((function(t){return t.json().then((function(t){return{data:t}}))})).then((function(t){e.alerts=Object(t.data),console.log(t.data)})),console.log("-----------------------------------------------------"),console.log(r),console.log(o)}}},i=c,l=n("2877"),u=Object(l["a"])(i,a,r,!1,null,null,null);e["default"]=u.exports},a8f8:function(t,e,n){"use strict";e["a"]="https://product.nadi3docms.com/api"}}]);