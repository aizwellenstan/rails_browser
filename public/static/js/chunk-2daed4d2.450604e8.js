(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2daed4d2"],{"5df0":function(e,s,t){"use strict";var a=t("711e"),r=t.n(a);r.a},"711e":function(e,s,t){},"78a5":function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("div",{staticClass:"el-card login-card text-primary fs-xl is-always-shadow"},[t("div",{staticClass:"el-card__header"},[e._v("修改帳戶-"+e._s(e.$route.params.id))]),e._v(" "),e.errorMessage?t("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e._v("\n      "+e._s(e.errorMessage)+"\n    ")]):e._e(),e._v(" "),e.signingUp?e._e():t("form",{on:{submit:function(s){return s.preventDefault(),e.signup(s)}}},[t("div",{staticClass:"form-group"},[t("div",{staticClass:"el-form-item"},[t("label",{staticClass:"el-form-item__label"},[e._v("使用者名稱")]),e._v(" "),t("div",{staticClass:"el-form-item__content"},[t("div",{staticClass:"el-input"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],staticClass:"el-input__inner",attrs:{id:"username",type:"text","aria-describedby":"usernameHelp",placeholder:"Enter a user name",required:""},domProps:{value:e.user.username},on:{input:function(s){s.target.composing||e.$set(e.user,"username",s.target.value)}}})])])]),e._v(" "),e._m(0)]),e._v(" "),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group col-md-6"},[t("span",{staticClass:"tag"},[e._v("密碼")]),t("br"),t("br"),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"textbox",attrs:{id:"password",type:"password","aria-describedby":"passwordHelp",placeholder:"Password",required:""},domProps:{value:e.user.password},on:{input:function(s){s.target.composing||e.$set(e.user,"password",s.target.value)}}}),e._v(" "),e._m(1)]),e._v(" "),t("div",{staticClass:"form-group col-md-6"},[t("span",{staticClass:"tag"},[e._v("確認密碼")]),t("br"),t("br"),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.confirmPassword,expression:"user.confirmPassword"}],staticClass:"textbox",attrs:{id:"confirmPassword",type:"password","aria-describedby":"confirmPasswordHelp",placeholder:"Confirm Password",required:""},domProps:{value:e.user.confirmPassword},on:{input:function(s){s.target.composing||e.$set(e.user,"confirmPassword",s.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-group col-md-6"},[t("span",{staticClass:"tag"},[e._v("姓")]),t("br"),t("br"),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.lastName,expression:"user.lastName"}],staticClass:"textbox",attrs:{id:"lastName",type:"text","aria-describedby":"lastNameHelp",placeholder:"Last Name",required:""},domProps:{value:e.user.lastName},on:{input:function(s){s.target.composing||e.$set(e.user,"lastName",s.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-group col-md-6"},[t("span",{staticClass:"tag"},[e._v("名")]),t("br"),t("br"),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.firstName,expression:"user.firstName"}],staticClass:"textbox",attrs:{id:"firstName",type:"text","aria-describedby":"firstNameHelp",placeholder:"First Name",required:""},domProps:{value:e.user.firstName},on:{input:function(s){s.target.composing||e.$set(e.user,"firstName",s.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-group col-md-6"},[t("span",{staticClass:"tag"},[e._v("Email")]),t("br"),t("br"),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],staticClass:"textbox",attrs:{id:"email",type:"text","aria-describedby":"emailHelp",placeholder:"Email",required:""},domProps:{value:e.user.email},on:{input:function(s){s.target.composing||e.$set(e.user,"email",s.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-group col-md-6"},[t("label",{staticClass:"tag"},[e._v("權限")]),e._v(" "),t("form",[t("select",{directives:[{name:"model",rawName:"v-model",value:e.user.permission,expression:"user.permission"}],on:{change:function(s){var t=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){var s="_value"in e?e._value:e.value;return s}));e.$set(e.user,"permission",s.target.multiple?t:t[0])}}},[t("option",[e._v("員工")]),e._v(" "),t("option",[e._v("管理者")]),e._v(" "),t("option",[e._v("最高管理者")])])])]),e._v(" "),t("div",{staticClass:"form-group col-md-6"},[t("label",{staticClass:"tag"},[e._v("啟用帳號")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.user.avalible,expression:"user.avalible"}],on:{change:function(s){var t=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){var s="_value"in e?e._value:e.value;return s}));e.$set(e.user,"avalible",s.target.multiple?t:t[0])}}},[t("option",[e._v("是")]),e._v(" "),t("option",[e._v("否")])])])]),e._v(" "),e._m(2)])])])},r=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("h5",{staticClass:"form-text text-muted",attrs:{id:"usernameHelp"}},[e._v("\n          使用者名稱需大於兩個字小於30個字"),t("br"),e._v("\n          只可包含英文字母及數字。\n        ")])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("h5",{staticClass:"form-text text-muted",attrs:{id:"passwordHelp"}},[e._v("\n            密碼需大於8個字"),t("br"),e._v("\n            密碼須包含1個大寫字1個小寫字及1個數字。\n          ")])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticStyle:{"padding-top":"21px"}},[t("button",{staticClass:"btn-cyan",attrs:{type:"submit"}},[e._v("Submit")])])}],i=t("a8f8"),o={data:function(){return{signingUp:!1,errorMessage:"",user:{username:"",password:"",confirmPassword:"",lastName:"",firstName:"",email:"",su:"",sf:"",permission:"",ac:"",avalible:""},isChecked:!0}},watch:{user:{handler:function(){this.errorMessage=""},deep:!0}},created:function(){this.id=this.$route.params.id},methods:{signup:function(){var e=this;this.errorMessage="","最高管理者"===this.user.permission?(this.user.su="1",this.user.sf="1"):"管理者"===this.user.permission?(this.user.su="0",this.user.sf="1"):(this.user.su="0",this.user.sf="0"),"Yes"===this.user.avalible?this.user.ac="1":this.user.ac="0",this.signingUp=!0;var s=i["a"]+"/account/edit/"+this.id+"/";console.log(s),fetch(s,{method:"post",headers:{Token:localStorage.getItem("token"),US:this.user.username,PS:this.user.password,LN:this.user.lastName,FN:this.user.firstName,EMAIL:this.user.email,SU:this.user.su,SF:this.user.sf,AC:this.user.ac}}).then((function(e){return e.ok?e.json():e.json().then((function(e){throw new Error(e.message)}))})).then((function(s){setTimeout((function(){e.signingUp=!1,e.$router.push("/login")}),1e3)})).catch((function(s){setTimeout((function(){e.signingUp=!1,e.errorMessage=s.message}),1e3)}))}}},n=o,u=(t("5df0"),t("2877")),l=Object(u["a"])(n,a,r,!1,null,"15463124",null);s["default"]=l.exports},a8f8:function(e,s,t){"use strict";s["a"]="https://product.nadi3docms.com/api"}}]);